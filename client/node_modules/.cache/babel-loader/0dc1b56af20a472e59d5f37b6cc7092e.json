{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/home/mohamed/Bureau/Go my code/Big Finally/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/mohamed/Bureau/Go my code/Big Finally/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/mohamed/Bureau/Go my code/Big Finally/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faPlusCircle}from\"@fortawesome/free-solid-svg-icons\";import\"./Question.css\";import Tableitem from\"./Tableitem\";import{getQuestions,editQuestionById,addQuestion}from\"../../../../js/actions/questionaction\";export default function Question(){//useSelector pou consommer state depuis store\nvar _useSelector=useSelector(function(state){return state.quests;}),isLoading=_useSelector.isLoading,questions=_useSelector.questions;// appeller useDispatch pour utiliser la fonction dispatch\nvar dispatch=useDispatch();var getAllQuestions=function getAllQuestions(){return dispatch(getQuestions());};var addNewQuestion=function addNewQuestion(inputData){return dispatch(addQuestion(inputData));};useEffect(function(){getAllQuestions();},[]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),addQuest=_useState2[0],setAddQuest=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModif=_useState4[0],setIsModif=_useState4[1];var _useState5=useState({category:\"\",type:\"\",difficulty:\"\",question:\"\",correct_answer:\"\",incorrect_answers:[\"\",\"\",\"\"]}),_useState6=_slicedToArray(_useState5,2),form=_useState6[0],setForm=_useState6[1];var categoryList=_toConsumableArray(new Set(questions.map(function(el){return el.category;})));// choisir une categorie\nvar handleChangeSelectCatg=function handleChangeSelectCatg(e){setForm({category:e.target.value,type:\"\",difficulty:\"\",question:\"\",correct_answer:\"\",incorrect_answers:[\"\",\"\",\"\"]});};// filtrer les quests qui appartiennent a la categ selectionner\nvar questionsFiltred=questions.filter(function(question){return question.category===form.category;});// edit Question  Section\nvar handleChangeEdit=function handleChangeEdit(id){var questEdit=questions.find(function(el,j){return el._id===id;});setForm(questEdit);setIsModif(true);};// MAJ Quest\nvar handleChangeInput=function handleChangeInput(e){var incorrect_answers=form.incorrect_answers;switch(e.target.name){case\"category\":setForm(_objectSpread(_objectSpread({},form),{},{category:e.target.value}));break;case\"question\":setForm(_objectSpread(_objectSpread({},form),{},{question:e.target.value}));break;case\"opt1\":incorrect_answers[0]=e.target.value;setForm(_objectSpread(_objectSpread({},form),{},{incorrect_answers:incorrect_answers}));break;case\"opt2\":incorrect_answers[1]=e.target.value;setForm(_objectSpread(_objectSpread({},form),{},{incorrect_answers:incorrect_answers}));break;case\"opt3\":incorrect_answers[2]=e.target.value;setForm(_objectSpread(_objectSpread({},form),{},{incorrect_answers:incorrect_answers}));break;case\"opt4\":setForm(_objectSpread(_objectSpread({},form),{},{correct_answer:e.target.value}));break;case\"difficulty\":setForm(_objectSpread(_objectSpread({},form),{},{difficulty:e.target.value}));break;default:setForm(_objectSpread(_objectSpread({},form),{},{type:e.target.value}));}};var editQuest=function editQuest(id,formData){return dispatch(editQuestionById(id,formData));};var handleChangeSubmit=function handleChangeSubmit(e){e.preventDefault();!addQuest?editQuest(form._id,form):addNewQuestion(form);setIsModif(false);};var handleChangeAdd=function handleChangeAdd(){setForm({category:\"\",type:\"\",difficulty:\"\",question:\"\",correct_answer:\"\",incorrect_answers:[\"\",\"\",\"\"]});setIsModif(true);setAddQuest(true);};return/*#__PURE__*/_jsx(Container,{className:\"question-container\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:6,className:\"Details-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card my-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[!addQuest?\"Edit Question\":\"Add Question\",\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-7\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\" category List :\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",className:\"form-select mb-3\",onChange:function onChange(e){return handleChangeSelectCatg(e);},value:form.category,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Open this select menu\"}),categoryList.map(function(category,i){return/*#__PURE__*/_jsx(\"option\",{children:category},i);})]})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-8 mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Question :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"question\",className:\"form-control\",value:form.question,disabled:isModif?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:addQuest?\"d-none\":\"col-4 mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Question ID :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"_id\",className:\"form-control\",value:form._id,disabled:addQuest?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Options :\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3 my-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col input-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"Opt :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"opt1\",className:\"form-control\",value:form.incorrect_answers[0],disabled:isModif?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"Opt :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"opt2\",className:\"form-control\",value:form.incorrect_answers[1],disabled:isModif?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3 my-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"Opt :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"opt3\",className:\"form-control\",value:form.incorrect_answers[2],disabled:isModif?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\" input-group col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"Opt :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"opt4\",className:\"form-control is-valid\",value:form.correct_answer,disabled:isModif?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Difficulty :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"difficulty\",className:\"form-control\",value:form.difficulty,disabled:isModif?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Type :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\",className:\"form-control\",value:form.type,disabled:addQuest?false:true,onChange:function onChange(e){return handleChangeInput(e);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-dark\",onClick:handleChangeSubmit,children:addQuest?\"ADD\":\"UPDATE\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-3 d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark border-0\",onClick:handleChangeAdd,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{size:\"2x\",icon:faPlusCircle})})})]})]})]})}),/*#__PURE__*/_jsx(Col,{sm:5,className:\"list-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table my-2 w-75\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Question\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Difficulty\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Management\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-light\",children:form.category===\"\"?null:questionsFiltred.map(function(question,j){return/*#__PURE__*/_jsx(Tableitem,{question:question,j:j,handleChangeEdit:handleChangeEdit// handleChangeEdit={handleChangeEdit}\n},question._id);})})]})})]})});}","map":{"version":3,"sources":["/home/mohamed/Bureau/Go my code/Big Finally/client/src/Components/Admin Component/Views/Question Component/Question.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Container","Row","Col","FontAwesomeIcon","faPlusCircle","Tableitem","getQuestions","editQuestionById","addQuestion","Question","state","quests","isLoading","questions","dispatch","getAllQuestions","addNewQuestion","inputData","addQuest","setAddQuest","isModif","setIsModif","category","type","difficulty","question","correct_answer","incorrect_answers","form","setForm","categoryList","Set","map","el","handleChangeSelectCatg","e","target","value","questionsFiltred","filter","handleChangeEdit","id","questEdit","find","j","_id","handleChangeInput","name","editQuest","formData","handleChangeSubmit","preventDefault","handleChangeAdd","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./Question.css\";\nimport Tableitem from \"./Tableitem\";\n\nimport {\n  getQuestions,\n  editQuestionById,\n  addQuestion,\n} from \"../../../../js/actions/questionaction\";\n\nexport default function Question() {\n  //useSelector pou consommer state depuis store\n  const { isLoading, questions } = useSelector((state) => state.quests);\n\n  // appeller useDispatch pour utiliser la fonction dispatch\n  const dispatch = useDispatch();\n  const getAllQuestions = () => dispatch(getQuestions());\n  const addNewQuestion = (inputData) => dispatch(addQuestion(inputData));\n\n  useEffect(() => {\n    getAllQuestions();\n  }, []);\n\n  const [addQuest, setAddQuest] = useState(false);\n  const [isModif, setIsModif] = useState(false);\n  const [form, setForm] = useState({\n    category: \"\",\n    type: \"\",\n    difficulty: \"\",\n    question: \"\",\n    correct_answer: \"\",\n    incorrect_answers: [\"\", \"\", \"\"],\n  });\n\n  const categoryList = [...new Set(questions.map((el) => el.category))];\n  // choisir une categorie\n  const handleChangeSelectCatg = (e) => {\n    setForm({\n      category: e.target.value,\n      type: \"\",\n      difficulty: \"\",\n      question: \"\",\n      correct_answer: \"\",\n      incorrect_answers: [\"\", \"\", \"\"],\n    });\n  };\n  // filtrer les quests qui appartiennent a la categ selectionner\n  const questionsFiltred = questions.filter(\n    (question) => question.category === form.category\n  );\n\n  // edit Question  Section\n  const handleChangeEdit = (id) => {\n    const questEdit = questions.find((el, j) => el._id === id);\n    setForm(questEdit);\n    setIsModif(true);\n  };\n\n  // MAJ Quest\n  const handleChangeInput = (e) => {\n    const incorrect_answers = form.incorrect_answers;\n    switch (e.target.name) {\n      case \"category\":\n        setForm({ ...form, category: e.target.value });\n        break;\n      case \"question\":\n        setForm({ ...form, question: e.target.value });\n        break;\n      case \"opt1\":\n        incorrect_answers[0] = e.target.value;\n        setForm({ ...form, incorrect_answers: incorrect_answers });\n        break;\n      case \"opt2\":\n        incorrect_answers[1] = e.target.value;\n        setForm({ ...form, incorrect_answers: incorrect_answers });\n        break;\n      case \"opt3\":\n        incorrect_answers[2] = e.target.value;\n        setForm({ ...form, incorrect_answers: incorrect_answers });\n        break;\n      case \"opt4\":\n        setForm({ ...form, correct_answer: e.target.value });\n        break;\n      case \"difficulty\":\n        setForm({ ...form, difficulty: e.target.value });\n        break;\n      default:\n        setForm({ ...form, type: e.target.value });\n    }\n  };\n  const editQuest = (id, formData) => dispatch(editQuestionById(id, formData));\n  const handleChangeSubmit = (e) => {\n    e.preventDefault();\n    !addQuest ? editQuest(form._id, form) : addNewQuestion(form);\n    setIsModif(false);\n  };\n\n  const handleChangeAdd = () => {\n    setForm({\n      category: \"\",\n      type: \"\",\n      difficulty: \"\",\n      question: \"\",\n      correct_answer: \"\",\n      incorrect_answers: [\"\", \"\", \"\"],\n    });\n    setIsModif(true);\n    setAddQuest(true);\n  };\n\n  return (\n    <Container className=\"question-container\">\n      <Row>\n        <Col sm={6} className=\"Details-container\">\n          <div className=\"card my-1\">\n            <div className=\"card-header\">\n              <h5 className=\"card-title\">\n                {!addQuest ? \"Edit Question\" : \"Add Question\"}{\" \"}\n              </h5>\n            </div>\n            <div className=\"card-body\">\n              <form className=\"row\">\n                <div className=\"col-7\">\n                  <label className=\"form-label\"> category List :</label>\n                  <select\n                    name=\"category\"\n                    className=\"form-select mb-3\"\n                    onChange={(e) => handleChangeSelectCatg(e)}\n                    value={form.category}\n                  >\n                    <option>Open this select menu</option>\n                    {categoryList.map((category, i) => (\n                      <option key={i}>{category}</option>\n                    ))}\n                  </select>\n                </div>\n              </form>\n              <form className=\"row\">\n                <div className=\"col-8 mb-1\">\n                  <label className=\"form-label\">Question :</label>\n                  <input\n                    type=\"text\"\n                    name=\"question\"\n                    className=\"form-control\"\n                    value={form.question}\n                    disabled={isModif ? false : true}\n                    onChange={(e) => handleChangeInput(e)}\n                  />\n                </div>\n\n                <div className={addQuest ? \"d-none\" : \"col-4 mb-2\"}>\n                  <label className=\"form-label\">Question ID :</label>\n                  <input\n                    type=\"text\"\n                    name=\"_id\"\n                    className=\"form-control\"\n                    value={form._id}\n                    disabled={addQuest ? false : true}\n                    onChange={(e) => handleChangeInput(e)}\n                  />\n                </div>\n              </form>\n              <form className=\"row\">\n                <div className=\"col-12\">\n                  <label className=\"form-label\">Options :</label>\n                  <div className=\"row g-3 my-1\">\n                    <div className=\"col input-group\">\n                      <span className=\"input-group-text\" id=\"basic-addon1\">\n                        Opt :\n                      </span>\n                      <input\n                        type=\"text\"\n                        name=\"opt1\"\n                        className=\"form-control\"\n                        value={form.incorrect_answers[0]}\n                        disabled={isModif ? false : true}\n                        onChange={(e) => handleChangeInput(e)}\n                      />\n                    </div>\n                    <div className=\"input-group col\">\n                      <span className=\"input-group-text\" id=\"basic-addon1\">\n                        Opt :\n                      </span>\n                      <input\n                        type=\"text\"\n                        name=\"opt2\"\n                        className=\"form-control\"\n                        value={form.incorrect_answers[1]}\n                        disabled={isModif ? false : true}\n                        onChange={(e) => handleChangeInput(e)}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"row g-3 my-2\">\n                    <div className=\"input-group col\">\n                      <span className=\"input-group-text\" id=\"basic-addon1\">\n                        Opt :\n                      </span>\n                      <input\n                        type=\"text\"\n                        name=\"opt3\"\n                        className=\"form-control\"\n                        value={form.incorrect_answers[2]}\n                        disabled={isModif ? false : true}\n                        onChange={(e) => handleChangeInput(e)}\n                      />\n                    </div>\n                    <div className=\" input-group col\">\n                      <span className=\"input-group-text\" id=\"basic-addon1\">\n                        Opt :\n                      </span>\n                      <input\n                        type=\"text\"\n                        name=\"opt4\"\n                        className=\"form-control is-valid\"\n                        value={form.correct_answer}\n                        disabled={isModif ? false : true}\n                        onChange={(e) => handleChangeInput(e)}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-md-6 mb-2\">\n                  <label className=\"form-label\">Difficulty :</label>\n                  <input\n                    type=\"text\"\n                    name=\"difficulty\"\n                    className=\"form-control\"\n                    value={form.difficulty}\n                    disabled={isModif ? false : true}\n                    onChange={(e) => handleChangeInput(e)}\n                  />\n                </div>\n                <div className=\"col-md-4 mb-2\">\n                  <label className=\"form-label\">Type :</label>\n                  <input\n                    type=\"text\"\n                    name=\"type\"\n                    className=\"form-control\"\n                    value={form.type}\n                    disabled={addQuest ? false : true}\n                    onChange={(e) => handleChangeInput(e)}\n                  />\n                </div>\n\n                <div className=\"col-md-8 mb-3\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    onClick={handleChangeSubmit}\n                  >\n                    {addQuest ? \"ADD\" : \"UPDATE\"}\n                  </button>\n                </div>\n                <div className=\"col-md-4 mb-3 d-flex justify-content-end\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark border-0\"\n                    onClick={handleChangeAdd}\n                  >\n                    <FontAwesomeIcon size=\"2x\" icon={faPlusCircle} />\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </Col>\n        <Col sm={5} className=\"list-container\">\n          <table className=\"table my-2 w-75\">\n            <thead className=\"thead-dark\">\n              <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Question</th>\n                <th scope=\"col\">Difficulty</th>\n                <th scope=\"col\">Category</th>\n                <th scope=\"col\">Management</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-light\">\n              {form.category === \"\"\n                ? null\n                : questionsFiltred.map((question, j) => (\n                    <Tableitem\n                      key={question._id}\n                      question={question}\n                      j={j}\n                      handleChangeEdit={handleChangeEdit}\n                      // handleChangeEdit={handleChangeEdit}\n                    />\n                  ))}\n            </tbody>\n          </table>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}